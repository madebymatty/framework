// Based on Zen Grids, inspired by Gridset.
@import "compass/css3/box-sizing";

// Specify the number of columns in the grid. Defaults to 1 column for mobile
// first approach.
$column-count: 1 !default;

// Specify the width of the gutters in %; half of the gutter will be placed on
// each side of a grid column as margin.
$gutter-width: 3% !default;

@mixin grid-container () {

	&:before,
	&:after {
		content: "";
		display: table;
	}

	&:after {
		clear: both;
	}

}

// For basic use, see: http://zengrids.com/help/#zen-grid-item
// For padding definitions, see: https://gridsetapp.com/documentation/classes/
@mixin grid-item (
	$column-span,
	$column-position,
	$new-row: false,
	$pad: false,
	$pad-full: false,
	$pad-in: false,
	$pad-in-full: false,
	$column-count: $column-count,
	$parent-column-span: $column-count,
	$parent-column-count: $column-count
) {

	@include grid-item-base($new-row);

	$parent-unit-width: (100% - $gutter-width * ($parent-column-count - 1)) / $parent-column-count;
	$parent-width: $parent-column-span * $parent-unit-width + $gutter-width * ($parent-column-span - 1);

	$real-gutter-width: $gutter-width * 100% / $parent-width;
	$unit-width: (100% - $real-gutter-width * ($column-count - 1)) / $column-count;

	$width: $column-span * $unit-width + $real-gutter-width * ($column-span - 1);
	$margin-left: ($column-position - 1) * $unit-width + $real-gutter-width * ($column-position - 1);

	@if $pad {

		width: $width + $real-gutter-width;
		margin: {
			left: $margin-left - $real-gutter-width / 2;
			right: (100% + $real-gutter-width / 2) * -1;
		}

	} @elseif $pad-full {

		width: $width + 2 * $real-gutter-width;
		margin: {
			left: $margin-left - $real-gutter-width;
			right: (100% + $real-gutter-width) * -1;
		}

	} @else {

		width: $width;
		margin: {
			left: $margin-left;
			right: 100% * -1;
		}

	}

	@if $pad or $pad-in {

		padding: {
			left: $real-gutter-width / 2;
			right: $real-gutter-width / 2;
		}

	} @elseif $pad-full or $pad-in-full {

		padding: {
			left: $real-gutter-width;
			right: $real-gutter-width;
		}

	}

}

@mixin grid-item-base ($new-row) {

	@include box-sizing(border-box);
	float: left;
	@if $new-row {
		clear: left;
	}

}
